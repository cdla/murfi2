<?xml version="1.0" encoding="UTF-8"?>

<!--  example configuration file for the realtime fMRI system       -->
<!--  NOTE... ':' characters are not allowed in any names or values -->
<!--  Oliver Hinds <ohinds@mit.edu> 2007-09-12                      -->

<study 
    subject="foobar"
    subjectsDir="/data/subjects"
    > </study>

<info>
  <terminal
      verbose="true"
      debug="false"
      > </terminal>
  
  <log
      filename="log/log.rtl"
      disabled="false"
      > </log>

  <errlog
      filename="log/log.rtl"
      disabled="false"
      > </errlog>
</info>

<scanner
    disabled="false"

    receiveImages="true"
    port="15000"
    saveImages="true"

    receiveTriggers="false"
    triggerSync="false"
    triggerCode="83"

    tr="2.0"
    measurements="64"
> </scanner>

<display
    image="1"
    imageWinX="300"
    imageWinY="0"
    imageWinW="1000"
    imageWinH="1000"
    overlayID="data.image.activation.voxel-accumcor"
>
</display>

<socket
    host="192.168.1.5"
    port="15001"
>
</socket>

<!-- preprocessing steps -->
<preprocessor>
  <output>display</output>

  <module name="voxel-difference">
    <output>display</output>
    <output>log</output>
  </module>

  <module name="voxel-mean">
    <option name="makeavail">true</option>
    <output>display</output>
  </module>

  <module name="voxel-variance">
    <option name="makeavail">true</option>
    <output>display</output>
  </module>

  <module name="voxel-zscore" threshold="3.0">
     <output>display</output>
  </module>

<!--   <module name="voxel-slidewincor"> -->
<!--      <output>display</output> -->
<!--      <option name="regressor"> -->
<!--         1 1 1 -1 -1 -1 -->
<!--      </option> -->
<!--      <option name="windowLen">6</option> -->
<!--   </module> -->

  <module name="accumcor">
     <output>display</output>

     <option name="condition">
        0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1
     </option>

     <option name="trends">2</option>

     <option name="saveTVol">1</option>
     <option name="saveTVolName">mask/active_t.nii</option>

     <option name="savePosAsMask">1</option>
     <option name="saveNegAsMask">1</option>
     <option name="savePosAsMaskFilename">mask/active_mask.nii</option>
     <option name="saveNegAsMaskFilename">mask/background_mask.nii</option>
  </module>

  <module name="singleimcor">
     <output>display</output>

     <option name="condition">
        0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1
     </option>

     <option name="trends">2</option>
     <option name="baselineThreshold">0.00001</option>
     <option name="probThreshold">0.10</option>
     <option name="correctForMultiComps">0</option>
  </module>

  <module name="activation-sum">
    <option name="makeavail">true</option>
    <output>infoserver</output>
    <output>display</output>
    <option name="roiID">active</option>
  </module>

  <module name="activation-sum">
    <option name="makeavail">true</option>
    <option name="roiID">background</option>
  </module>

  <module name="activation-sum-difference">
    <output>infoserver</output>
    <output>display</output>
    <option name="posRoiID">active</option>
    <option name="negRoiID">background</option>
  </module>

</preprocessor>

